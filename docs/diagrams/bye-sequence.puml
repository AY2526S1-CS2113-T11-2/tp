@startuml
!theme vibrant
actor User
participant ":Main" as Main
participant ":Parser" as Parser
participant ":ByeCommand" as ByeCommand
participant ":InvalidCommand" as InvalidCommand
participant ":Ui" as Ui

loop until user enters "bye"

    User -> Main : enters command
    activate Main

    Main -> Parser : parse(command)
    activate Parser

    alt bye command

        create ByeCommand
        Parser -> ByeCommand
        activate ByeCommand
        Parser --> Main : byeCommand
        deactivate ByeCommand

    else invalid bye command

        create InvalidCommand
        Parser -> InvalidCommand
        Parser --> Main : invalidCommand

    end

    deactivate Parser

    alt command is bye
        Main -> ByeCommand : execute(expenseManager, ui)
        activate ByeCommand

        ByeCommand -> Ui : showGoodbye()
        activate Ui
        Ui --> User : displays goodbye message
        deactivate Ui

        deactivate ByeCommand

        Main -> ByeCommand : isExit()
        activate ByeCommand
        ByeCommand --> Main : true
        deactivate ByeCommand

    else command is invalid
        Main -> InvalidCommand : execute(expenseManager, ui)
        activate InvalidCommand
        InvalidCommand -> Ui : showError(message)
        activate Ui
        Ui --> User : displays error message
        deactivate Ui
        deactivate InvalidCommand
    end

    deactivate Main

end
@enduml
